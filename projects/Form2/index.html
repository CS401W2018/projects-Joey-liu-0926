<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Web Design</h1>
    </header>
    <nav></nav>
    <main>
      <form action="process.html" method="post" id="myForm">
        <fieldset>
          <legend>Sign Up</legend>

          <div class="form-row">
            <label for="first name">First Name: </label>
            <input id="first name" type="text" name="first" value="Joey" required />
          </div>
        
          <div class="form-row">
            <label for="lname">Last Name: </label>
            <input type="text" name="last" placeholder="Last Name" id="lname"/>
          </div>

          <div class="form-row">
            <label for="pass">Password: </label>
            <input type="text" name="pass" id="pass" />
          </div>

          <div class="check-row">
            <div class="spacer"></div>
            <label>
              <input type="checkbox" name="remember" checked />Remember Me
            </label>
          </div>

          <div class="form-row">
            <label for="state">State</label>
            <select name="state" id="state">
              <option value="blank">Aloha</option>
              <option value="blank">Aloha</option>
              <option value="blank">Aloha</option>
              <option value="blank">Aloha</option>
              <option value="blank">Aloha</option>
            </select>
          </div>

          <div class="form-row">
            <label for="comments">Comments</label>
            <textarea name="comments" id="comments"></textarea>
          </div>

          <div class="check-row">
            <div class="spacer">Class:</div>

            <label><input type="radio" value="fresh" />Fresh</label>
            <label><input type="radio" value="fresh" />Fresh</label>
            <label><input type="radio" value="fresh" />Fresh</label>
            <label><input type="radio" value="fresh" />Fresh</label>
            <label><input type="radio" value="fresh" />Fresh</label>
          </div>

          <div class="form-row">
            <div class="spacer"></div>
            <input type="submit" />
          </div>
        </fieldset>
      </form>
      <hr />
      <ol>
        <h1>Engagemenet Questions</h1>
        <li>
        <h3>What is AJAX?</h3>
        <p>It is a set of web development techniques that allow web applications to communicate with a server asynchronously</p>
        </li>
        <li>
        <h3>Why do you put your JS Code in a separate file?</h3>
        <p>it makes your HTML file less cluttered and your JavaScript code more readable and easier to manage</p>
        </li>

      <hr />
      <h2>Note</h2>
      <p>do not use br but try surround by div.</p>
    </main>
    <footer>
      <p>&copy; Joey, 2024</p>
    </footer>  
    <script>
      document,getElementById("myForm").addEventListerner('sbumit',function(event) {
          event.preventDefault();
          const firstName = document.getElementById('firstName').value;
          const lastName = document.getElementById('lastName').value;
          const age = document.getElementById('age').value;
          if(!firstName || !lastName){
            alert("firstNAme and lastName required!");
            return;
          }
          if (!age || age < 18){
            alert("You must be 18 to sign up!");
            return;
          }
          const formData={
            firstName: firstName,
            lastName: lastName,
            age: age
            password:document.getElementById("password").value,
            remembr: document.getElementById("remember").checked,
            state:document.getElementById("state").value,
            class:document.querySelector('input[name="class"]:checked'),
          }
          const xhr = new XMLHttpRequest();
          xhr.open("POST","submit.js",true);
          xhr.setRequestHeader("Content-Type","application/json:charset=UTF-8");
          xhr.onreadystatechange=function(){
            if (xhr.readyState === 4 && xhr.status === 200) {
              alert('Form submitted seccessfully.')
            } else if (xhr.redayState === 4) {
              alert("You submit the form!");
            }
          };
          xhr.send(JSON.stringify(formData));
          console.log('formData');
      });
  </script>  
</body>
</html>